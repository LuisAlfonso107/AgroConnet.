<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Soporte Técnico 24/7 para AgroConnect. Chat en vivo, estado del sistema, FAQs, y más." />
  <meta name="theme-color" content="#00796b" />
  <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="../styles.css">
  <title>Soporte Técnico | AgroConnect</title>

  <!-- FUENTES -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>

  <!-- HEADER -->
  <div id="header-container"></div>
  <script>
    // Cargar header si existe
    fetch("../components/header.html")
      .then(res => {
        if (!res.ok) throw new Error("Header no encontrado");
        return res.text();
      })
      .then(html => {
        document.getElementById("header-container").innerHTML = html;
        const script = document.createElement("script");
        script.src = "../components/header.js";
        document.body.appendChild(script);
      })
      .catch(() => console.warn("Header no cargado, revisa la ruta."));
  </script>

  <!-- HERO -->
  <section class="hero-soporte fade-up">
    <div class="hero-bg-soporte"></div>
    <div class="container">
      <h2 class="fade-up">Soporte Técnico 24/7</h2>
      <p class="fade-up">Resolvemos tus dudas en minutos. Chat en vivo, estado del sistema, FAQs y formulario avanzado.</p>
      <div class="cta-soporte fade-up">
        <a href="#chat" class="btn-soporte" onclick="toggleChat()"><i class="fas fa-comments"></i> Chat en Vivo</a>
        <a href="#formulario" class="btn-soporte"><i class="fas fa-envelope"></i> Enviar Ticket</a>
      </div>
    </div>
  </section>

  <!-- ESTADO DEL SERVIDOR -->
  <section class="container status-bar fade-up">
    <div class="status-item"><div class="status-dot"></div> Plataforma: <strong>Operativa</strong></div>
    <div class="status-item"><div class="status-dot"></div> Pagos: <strong>Activos</strong></div>
    <div class="status-item"><div class="status-dot warning"></div> Respuesta promedio: <strong>3 min</strong></div>
  </section>

  <!-- SOPORTE GRID -->
  <section class="container soporte-grid stagger">
    <div class="soporte-item scale-in">
      <i class="fas fa-tools"></i>
      <h3>Mantenimiento</h3>
      <p>Actualizaciones, backups y optimización del sistema.</p>
    </div>
    <div class="soporte-item scale-in">
      <i class="fas fa-shield-alt"></i>
      <h3>Seguridad</h3>
      <p>Cifrado SSL, blockchain y detección de fraudes.</p>
    </div>
    <div class="soporte-item scale-in">
      <i class="fas fa-headset"></i>
      <h3>Asistencia</h3>
      <p>Chat, email y teléfono para productores y compradores.</p>
    </div>
    <div class="soporte-item scale-in">
      <i class="fas fa-lightbulb"></i>
      <h3>Mejoras</h3>
      <p>Envía tus ideas. ¡Construimos juntos!</p>
    </div>
  </section>

  <!-- FAQs -->
  <section class="container faq-section fade-up">
    <h2>Preguntas Frecuentes</h2>
    <div class="faq-item" onclick="toggleFAQ(this)">
      <div class="faq-question">¿Cómo cambio mi contraseña? <i class="fas fa-chevron-down"></i></div>
      <div class="faq-answer">Ve a Perfil → Seguridad → Cambiar contraseña. Usa un código de 6 dígitos enviado a tu email.</div>
    </div>
    <div class="faq-item" onclick="toggleFAQ(this)">
      <div class="faq-question">¿Cuánto tarda un pago? <i class="fas fa-chevron-down"></i></div>
      <div class="faq-answer">Pagos en escrow se liberan en 24h tras confirmación de entrega. Transferencias directas: inmediato.</div>
    </div>
    <div class="faq-item" onclick="toggleFAQ(this)">
      <div class="faq-question">¿Puedo cancelar una oferta? <i class="fas fa-chevron-down"></i></div>
      <div class="faq-answer">Sí, dentro de las primeras 2 horas. Después, se aplica una penalización del 5%.</div>
    </div>
  </section>

  <!-- FORMULARIO -->
  <section class="container formulario fade-up" id="formulario">
    <h2>Envía tu Solicitud</h2>
    <form id="soporteForm" novalidate>
      <div class="form-grid">
        <div class="form-group">
          <label><i class="fas fa-user"></i> Nombre completo</label>
          <input type="text" placeholder="Juan Pérez" required />
        </div>
        <div class="form-group">
          <label><i class="fas fa-envelope"></i> Email</label>
          <input type="email" placeholder="juan@ejemplo.com" required />
        </div>
        <div class="form-group">
          <label><i class="fas fa-tag"></i> Tipo de consulta</label>
          <select required>
            <option value="">Selecciona...</option>
            <option value="tecnico">Problema técnico</option>
            <option value="pago">Pagos y facturación</option>
            <option value="seguridad">Seguridad</option>
            <option value="otro">Otro</option>
          </select>
        </div>
        <div class="form-group">
          <label><i class="fas fa-exclamation-triangle"></i> Prioridad</label>
          <select>
            <option>Baja</option>
            <option>Media</option>
            <option>Alta</option>
            <option>Urgente</option>
          </select>
        </div>
        <div class="form-group">
          <label><i class="fas fa-align-left"></i> Descripción</label>
          <textarea placeholder="Describe tu problema o sugerencia con detalle..."></textarea>
        </div>
        <div class="captcha">
          <input type="text" placeholder="4 + 5 = ?" />
          <button type="button">Verificar</button>
        </div>
      </div>
      <button type="submit" class="btn-enviar">Enviar Solicitud</button>
    </form>
  </section>

  <!-- CHAT EN VIVO -->
  <div class="chat-widget" id="chatWidget">
    <div class="chat-header" onclick="toggleChat()">
      <span><i class="fas fa-comments"></i> Chat en Vivo</span>
      <i class="fas fa-times"></i>
    </div>
    <div class="chat-body" id="chatBody">
      <div class="message bot">¡Hola! Soy Ana, tu asistente. ¿En qué puedo ayudarte?</div>
    </div>
    <div class="chat-input">
      <input type="text" id="chatInput" placeholder="Escribe tu mensaje..." />
      <button onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer fade-up">
    <div class="container footer-contenido">
      2025 <strong>AgroConnect Global</strong>. Soporte Técnico 24/7 en +12 idiomas.
    </div>
  </footer>

  <script>
    // SCROLL ANIMATIONS
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          if (!entry.target.classList.contains('stagger')) observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.3, rootMargin: '0px 0px -100px 0px' });
    document.querySelectorAll('.fade-up, .fade-left, .fade-right, .scale-in, .stagger').forEach(el => observer.observe(el));

    // FAQ
    function toggleFAQ(el) { el.classList.toggle('active'); }

    // CHAT
    function toggleChat() {
      const chat = document.getElementById('chatWidget');
      chat.style.display = chat.style.display === 'flex' ? 'none' : 'flex';
    }
    function sendMessage() {
      const input = document.getElementById('chatInput');
      const body = document.getElementById('chatBody');
      if (input.value.trim()) {
        const msg = document.createElement('div');
        msg.className = 'message user';
        msg.textContent = input.value;
        body.appendChild(msg);
        input.value = '';
        setTimeout(() => {
          const bot = document.createElement('div');
          bot.className = 'message bot';
          bot.textContent = 'Entendido, estoy revisando tu caso. Te respondo en 1 minuto.';
          body.appendChild(bot);
          body.scrollTop = body.scrollHeight;
        }, 1000);
        body.scrollTop = body.scrollHeight;
      }
    }

    // FORMULARIO
    document.getElementById('soporteForm').addEventListener('submit', function(e) { 
      e.preventDefault();
      alert('¡Solicitud enviada! Te respondemos en menos de 3 minutos.');
      this.reset();
    });
  </script>
</body>
</html>
